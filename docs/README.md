# 📚 tmuxui ドキュメント

**プロジェクト**: tmuxui - モバイル tmux UI アプリケーション
**最終更新**: 2026年2月21日

---

## 🎯 プロジェクト概要

**tmuxui** は、PCで Claude Code エージェントチームによる開発中に、外出先のスマートフォンから tmux セッションを監視・操作できるWebアプリケーションです。

### 主な特徴

✅ **スマートフォンからペイン閲覧** - 各エージェントの出力をリアルタイム確認
✅ **権限許可ボタン操作** - スマホから Claude Code の権限許可を承認・拒否
✅ **指示送信フォーム** - エージェントへの新規指示をスマートフォンから入力
✅ **ワンコマンド起動** - 複雑なセットアップ不要、`./tmuxui` で起動
✅ **軽量・高速** - 依存関係最小化、CDN 不要（ローカル自己完結）

---

## 📖 ドキュメント一覧

### 1️⃣ **requirements.md** - 要件定義書

**対象者**: PM、デザイナー、全チーム

プロジェクトの要件を体系的にまとめたドキュメント。

| 内容 | 詳細 |
|------|------|
| **背景・課題** | なぜこのプロジェクトが必要か |
| **ユーザー要件** | 実装すべき 6 つの主要ユーザー要件（U1-U6） |
| **機能要件** | 実装すべき 6 つの機能（F1-F6） |
| **非機能要件** | パフォーマンス、セキュリティ、互換性等（N1-N5） |
| **制約・非実装** | やらないことを明確化 |
| **成功基準** | プロジェクト成功の定義 |

**用途:**
- 実装対象の確認・ズレ防止
- 進捗管理（要件ごとの実装完了確認）
- クライアント/ステークホルダーへの説明

📄 **関連セクション**: U1-U6（ユーザー要件）、F1-F6（機能要件）

---

### 2️⃣ **ux-design.md** - UI/UX 詳細設計

**対象者**: デザイナー、フロントエンド開発者

モバイルUI/UXの詳細設計。ASCII図面を交えた具体的なレイアウト仕様。

| 章 | 内容 |
|-----|------|
| **1. ペイン一覧表示** | タブ式リスト + ツリー構造の設計 |
| **2. ペイン詳細表示** | スクロール、更新ボタン、タイムスタンプ等 |
| **3. 権限許可ダイアログ** | 確認画面、ボタン配置、タップターゲット |
| **4. 指示入力 UI** | テキスト入力、プリセットコマンド、送信確認 |
| **5. ナビゲーション** | 画面遷移フロー、戻る操作 |
| **6. 安全設計** | ミス防止、セッション管理等 |
| **7. ビジュアルデザイン** | カラースキーム、フォント、レイアウト |
| **8. 通知** | 権限許可リクエスト通知、プッシュ通知 |
| **実装優先度** | 3 つのフェーズ別優先度（MVP→改善→拡張） |

**用途:**
- UI 実装時のリファレンス
- デザインレビュー
- ユーザーテスト時のプロトタイプ仕様書

📄 **関連セクション**: F3-F6（機能要件）の詳細

---

### 3️⃣ **research.md** - 既存ソリューション調査

**対象者**: アーキテクト、バックエンド開発者

既存の tmux Web UI ツール、スマートフォン向けソリューション、Claude Code 統合方式の調査レポート。

| セクション | 内容 |
|-----------|------|
| **1. tmux Web UI系ツール** | GoTTY, ttyd, WebMux, WebTMUX, Wetty（5つ） |
| **2. Claude Code 専用ツール** | Claude Code Agent Teams、権限管理機能 |
| **3. ターミナル共有 OSS** | Webpair, tmate（ペアプログラミング向け） |
| **4. スマートフォン向けソリューション** | Reattach, Muxile, Tailscale+Termius |
| **5. Claude Code モニタリングツール** | Datadog, SigNoz, Observability ツール |
| **6. 比較表** | 全ツールの要件適合度評価 |
| **7. 推奨アーキテクチャ** | ハイブリッド構成、フェーズ別実装アプローチ |
| **8. 最終推奨事項** | 短期・長期推奨、避けるべきアプローチ |

**推奨アーキテクチャ:**
- **バックエンド**: WebMux を参考（Rust + Axum）or 独自実装（Go）
- **フロントエンド**: PWA（Vue 3 + Tailwind）or Vanilla + htmx
- **統合**: Claude Code hooks との WebSocket 統合

**用途:**
- 技術選定の根拠確認
- 他の実装例の学習
- 長期的な拡張可能性の検討

📄 **関連セクション**: D6-D8（バックエンド言語、フロント UI フレームワーク、hooks統合）

---

### 4️⃣ **decisions.md** - 意思決定ログ

**対象者**: 全チーム（意思決定関係者は特に）

プロジェクト全体を通じた技術選定、アーキテクチャ設計の記録。

| 決定 | 内容 | ステータス |
|------|------|-----------|
| **D1** | 一体型構成（フロント + バック 1プロセス） | ✅ 確定 |
| **D2** | 軽量・依存関係最小化 | ✅ 確定 |
| **D3** | ダークモードのみ対応 | ✅ 確定 |
| **D4** | 手動更新（自動更新なし） | ✅ 確定 |
| **D5** | セキュリティ最優先（確認ダイアログ必須） | ✅ 確定 |
| **D6** | バックエンド言語選定 | 🔄 検討中 |
| **D7** | フロントエンド UI フレームワーク | 🔄 検討中 |
| **D8** | Claude Code hooks 統合方式 | 🔄 検討中 |
| **D9** | プッシュ通知対応 | ❌ 将来検討 |
| **D10** | セッションロック機能 | ❌ 将来検討 |

**各決定の記載事項:**
- 決定内容
- 理由（Why）
- 選択肢の比較
- 影響範囲

**用途:**
- 実装の背景理由を確認
- チーム内のコンセンサス取得
- 将来の見直し時に方針変更を記録

📄 **関連セクション**: requirements.md との相互参照

---

## 🗺️ ドキュメント相互参照

```
┌──────────────────┐
│  requirements.md │  要件定義
│  (何をする)      │
└────────┬─────────┘
         │
    ┌────▼─────┬─────────────────┬──────────────┐
    │           │                 │              │
┌───▼────┐  ┌──▼──────────┐  ┌──▼───────┐  ┌──▼────────┐
│ux-      │  │ research.md │  │decisions │  │TODO:      │
│design.md│  │ (参考)      │  │.md       │  │実装計画   │
└─────────┘  └─────────────┘  │(背景)    │  └───────────┘
                               └──────────┘
```

---

## 📋 ドキュメント使用フロー

### フェーズ 1: 要件理解
1. **README.md** (このファイル) で概要把握
2. **requirements.md** で要件詳細確認
3. **ux-design.md** で UI イメージ確認

### フェーズ 2: 設計・アーキテクチャ選定
1. **research.md** で既存ソリューション学習
2. **decisions.md** で過去の決定を確認
3. チームで新規決定を discussions.md に記録

### フェーズ 3: 実装
1. **requirements.md** を実装チェックリストとして使用
2. **ux-design.md** を UI 実装リファレンスとして使用
3. **decisions.md** で技術選定の根拠を確認

### フェーズ 4: テスト・QA
1. **requirements.md の成功基準** でテスト項目定義
2. **ux-design.md の安全設計** でセキュリティテスト設計
3. **decisions.md** で予期されない動作を確認

---

## 🔄 ドキュメント更新ルール

### 更新対象
- 要件変更 → **requirements.md**
- UI 設計の追加・変更 → **ux-design.md**
- 技術選定・設計判断 → **decisions.md**

### 更新時の注意
1. **「最終更新日」を更新** してください
2. **相互参照の整合性確認** - 複数ドキュメントにまたがる変更時は各ドキュメント確認
3. **過去の決定は削除せず、理由とともに記録** - 将来の見直し判断材料として

### 削除・廃止するドキュメント
- 廃止時は「**[廃止]**」タグを冒頭に付与
- 廃止理由・代替ドキュメントを明記
- ファイルは削除せず、`_archived/` フォルダに移動

---

## 🚀 クイックリンク

| リンク | 目的 |
|--------|------|
| [要件確認](./requirements.md) | 実装対象を確認 |
| [UI 設計](./ux-design.md) | モバイル UI のレイアウト確認 |
| [既存ソリューション](./research.md) | 他の実装例・参考資料 |
| [技術判断](./decisions.md) | なぜこの技術を選んだか |

---

## ❓ よくある質問

**Q1. このプロジェクトで実装すべき機能は？**

→ **requirements.md の機能要件（F1-F6）** を確認してください。

---

**Q2. UI デザインの詳細を知りたい**

→ **ux-design.md** の ASCII 図面とレイアウト仕様を参照してください。

---

**Q3. なぜダークモードのみ？ライトモード対応は？**

→ **decisions.md の D3** に理由が記載されています。バッテリー節約、CLI との統一等が背景です。

---

**Q4. Go と Rust のどちらを使う？**

→ **decisions.md の D6** で検討中です。実装開始時にチームで確定します。

---

**Q5. 既存の OSS ツール（WebMux、GoTTY 等）との違いは？**

→ **research.md** で詳しく比較しています。WebMux が最も近いですが、Claude Code hooks 統合が独自機能です。

---

**Q6. このドキュメントをどうやって更新する？**

→ **ドキュメント更新ルール** を参照。各ドキュメント内の「最終更新日」と相互参照を確認しながら更新してください。

---

## 📞 ドキュメント管理者

**docs-manager** が体系的管理を担当しています。

ドキュメント改善提案・質問は、テーム内で `docs` タグ付きで報告してください。

---

**Happy Documentation! 🎉**
